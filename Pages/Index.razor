@page "/"
@using BlazorBasics.Models;
@using BlazorBasics.client;
 
<PageTitle>Index</PageTitle>
<h3>Best Movies</h3>
@if(movies is null)
{
    <P>Loading....</P>
}else
{
        <table class="table table-striped table-bordered table-hover">
        <thead class="table-dark" >
            <th>id</th>
            <th>genre</th>
            <th>title</th>
            <th>Rating</th>
        </thead>
        <tbody>
            @foreach (var movie in movies)
            {
                    <tr>
                            <td>@movie.id</td>
                            <td>@movie.genre</td>
                            <td>@movie.title</td>
                            <td>@movie.Rating</td>
                    </tr>
            }
        </tbody>

    </table>

}






@code {
    private MoviesModel[]? movies;
    protected override void OnInitialized()
    {
        movies =MovieClient.getMovies();
    }


}
